<page-header [header]="header"></page-header>

<div class="row">
  <div class="col-xs-12">
    <div class="card-box">
      <div layout="row" layout-align="end end" class="pad-left-sm pad-right-sm">
        <a (click)="back()" routerLink="/">
          <md-icon class="tc-grey-800">cancel</md-icon>
        </a>
      </div>
      <div class="row">
        <div class="col-md-4 col-sm-6 col-xs-10">
          <md-input-container class="md-input-full-width">
            <input mdInput name="name" [(ngModel)]="current.sn" placeholder="SN" disabled>
          </md-input-container>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-10">
          <md-input-container class="md-input-full-width">
            <input mdInput name="date" [(ngModel)]="current.date" placeholder="Date" disabled>
          </md-input-container>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 col-sm-6 col-xs-10">
          <md-input-container class="md-input-full-width">
            <input mdInput name="status" [(ngModel)]="current.statusdesc" placeholder="Status" disabled>
          </md-input-container>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-10">
          <md-input-container class="md-input-full-width">
            <input mdInput name="remark" [(ngModel)]="current.remark" placeholder="Remark" maxlength="200">
          </md-input-container>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-10">
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th>Unit Price</th>
                  <th>Qty.</th>
                  <th>Amount</th>
                  <th class="text-right">
                    <span class="tc-green-800" (click)="add(current.id)">
                        <!-- <i class="fa fa-shopping-cart" aria-hidden="true"></i> -->
                        <i class="fa fa-plus" aria-hidden="true"></i>
                    </span>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngIf="current.items.length==0">
                  <td class="text-center md-caption tc-grey-400" colspan="6">No Record(s)</td>
                </tr>
                <tr *ngFor="let item of current.items;let i=index;">
                  <td>{{i+1}}</td>
                  <td>{{item.name}}</td>
                  <td>{{item.unitprice | number:'1.2-2'}}</td>
                  <td>{{item.qty | number:'1.2-2'}}</td>
                  <td>{{item.unitprice*item.qty | number:'1.2-2'}}</td>
                  <td class="text-right">
                    <span class="tc-red-800" (click)="delete(item.id)"><i class="fa fa-minus" aria-hidden="true"></i></span>
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th></th>
                  <th></th>
                  <th></th>
                  <th class="text-right">Total:</th>
                  <th>{{ total() | number:'1.2-2'}}</th>
                  <th></th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
