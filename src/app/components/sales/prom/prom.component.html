<page-header [header]="header"></page-header>

<div class="row">
  <div class="card-box">
    <div class="row">
      <mat-toolbar class="toolbar">
        <span matTooltip="Back" (click)="back()">
          <i class="fa fa-chevron-left" aria-hidden="true"></i>
        </span>
        <span class="toolbar-spacer"></span>
        <span class="toolbar-icon">
          <mat-icon matTooltip="Save" (click)="submit()">save</mat-icon>
        </span>
      </mat-toolbar>
    </div>

    <div class="row">
      <div class="col-md-4 col-sm-6 col-xs-10">
        <mat-form-field class="mat-input-full-width">
          <input matInput name="subject" [(ngModel)]="current.subject" placeholder="Subject" [formControl]="formControlSubject" autocomplete="off"
            maxlength="30">
          <mat-error *ngIf="formControlSubject.hasError('pattern')">
            Only Support case letters, numbers and Chinese.
          </mat-error>
          <mat-error *ngIf="formControlSubject.hasError('required')">
            Subject is
            <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-4 col-sm-6 col-xs-10">
        <mat-form-field class="mat-input-full-width">
          <input matInput name="product" placeholder="Product" [formControl]="formControlProduct" [matAutocomplete]="auto">
          <mat-error *ngIf="formControlProduct.hasError('required')">
            Product is
            <strong>required</strong>
          </mat-error>
          <mat-error *ngIf="formControlProduct.hasError('object')">
            Invalid product
          </mat-error>
        </mat-form-field>
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="display">
          <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
            {{ option.name }}
          </mat-option>
        </mat-autocomplete>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4 col-sm-6 col-xs-10">
        <mat-form-field class="mat-input-full-width">
          <input matInput name="start" [(ngModel)]="current.start" [min]="minDate" [max]="maxDate" [formControl]="formControlStart"
            [matDatepicker]="startpicker" placeholder="Start Date">
          <span matSuffix>00:00:00 &nbsp;</span>
          <mat-datepicker-toggle matSuffix [for]="startpicker"></mat-datepicker-toggle>
          <mat-error *ngIf="formControlStart.hasError('required')">
            Start date is
            <strong>required</strong>
          </mat-error>
        </mat-form-field>
        <mat-datepicker #startpicker></mat-datepicker>
      </div>
      <div class="col-md-4 col-sm-6 col-xs-10">
        <mat-form-field class="mat-input-full-width">
          <input matInput name="end" [(ngModel)]="current.end" [min]="minDate" [max]="maxDate" [formControl]="formControlEnd" [matDatepicker]="endpicker"
            placeholder="End Date">
          <span matSuffix>23:59:59 &nbsp;</span>
          <mat-datepicker-toggle matSuffix [for]="endpicker"></mat-datepicker-toggle>
          <mat-error *ngIf="formControlEnd.hasError('required')">
            End date is
            <strong>required</strong>
          </mat-error>
        </mat-form-field>
        <mat-datepicker #endpicker></mat-datepicker>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4 col-sm-6 col-xs-10">
        <mat-checkbox [checked]="current.enabled" [(ngModel)]="current.enabled"> {{current.enabled?"Enabled":"Disabled"}} </mat-checkbox>
      </div>
    </div>

  </div>
</div>
